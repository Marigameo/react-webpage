{"ast":null,"code":"import _slicedToArray from\"D:/react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dropdown(_ref){var options=_ref.options,prop=_ref.prop,value=_ref.value,_onChange=_ref.onChange,id=_ref.id,label=_ref.label;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var ref=useRef(null);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];useEffect(function(){document.addEventListener('click',close);return function(){return document.removeEventListener('click',close);};},[]);function close(e){setOpen(e&&e.target===ref.current);}function filter(options){return options.filter(function(option){return option[label].toLowerCase().indexOf(query.toLowerCase())>-1;});}function displayValue(){if(query.length>0)return query;if(value)return value[label];return'';}return/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control\",onClick:function onClick(){return setOpen(function(prev){return!prev;});},children:[/*#__PURE__*/_jsx(\"div\",{className:\"selected-value\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:ref,placeholder:value?value[label]:prop,value:displayValue,onChange:function onChange(e){setQuery(e.target.value);_onChange(null);},onClick:function onClick(){return setOpen(function(prev){return!prev;});}})}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow \".concat(open?'open':null)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"options \".concat(open?'open':null),children:[filter(options).map(function(option){return/*#__PURE__*/_jsx(\"div\",{className:\"option \".concat(value===option?'selected':null),onClick:function onClick(){_onChange(option);setOpen(false);setQuery('');},children:/*#__PURE__*/_jsx(Link,{as:Link,to:\"/pharmacy-search\",children:option[label]})},option[id]);}),/*#__PURE__*/_jsx(\"option\",{value:\"\"})]})]});}","map":{"version":3,"sources":["D:/react/src/components/Home/app/dropdown/DropDown.js"],"names":["React","useState","useEffect","useRef","Link","Dropdown","options","prop","value","onChange","id","label","open","setOpen","ref","query","setQuery","document","addEventListener","close","removeEventListener","e","target","current","filter","option","toLowerCase","indexOf","displayValue","length","prev","map"],"mappings":"2FAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,MAApC,KAAiD,OAAjD,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,cAAe,SAASC,CAAAA,QAAT,MAA+D,IAA5CC,CAAAA,OAA4C,MAA5CA,OAA4C,CAAnCC,IAAmC,MAAnCA,IAAmC,CAA7BC,KAA6B,MAA7BA,KAA6B,CAAtBC,SAAsB,MAAtBA,QAAsB,CAAZC,EAAY,MAAZA,EAAY,CAARC,KAAQ,MAARA,KAAQ,CAC1E,cAAwBV,QAAQ,CAAC,KAAD,CAAhC,wCAAOW,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,GAAG,CAAGX,MAAM,CAAC,IAAD,CAAlB,CACA,eAA0BF,QAAQ,CAAC,EAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eAEAd,SAAS,CAAC,UAAM,CACZe,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCC,KAAnC,EACA,MAAO,kBAAMF,CAAAA,QAAQ,CAACG,mBAAT,CAA6B,OAA7B,CAAsCD,KAAtC,CAAN,EAAP,CACH,CAHQ,CAGN,EAHM,CAAT,CAKA,QAASA,CAAAA,KAAT,CAAeE,CAAf,CAAkB,CACdR,OAAO,CAACQ,CAAC,EAAIA,CAAC,CAACC,MAAF,GAAaR,GAAG,CAACS,OAAvB,CAAP,CACH,CAED,QAASC,CAAAA,MAAT,CAAgBlB,OAAhB,CAAyB,CACrB,MAAOA,CAAAA,OAAO,CAACkB,MAAR,CACH,SAACC,MAAD,QACAA,CAAAA,MAAM,CAACd,KAAD,CAAN,CAAce,WAAd,GAA4BC,OAA5B,CAAoCZ,KAAK,CAACW,WAAN,EAApC,EAA2D,CAAC,CAD5D,EADG,CAAP,CAIH,CAED,QAASE,CAAAA,YAAT,EAAwB,CACtB,GAAGb,KAAK,CAACc,MAAN,CAAe,CAAlB,CAAqB,MAAOd,CAAAA,KAAP,CACrB,GAAGP,KAAH,CAAU,MAAOA,CAAAA,KAAK,CAACG,KAAD,CAAZ,CACV,MAAO,EAAP,CACD,CAEH,mBAAO,aAAK,SAAS,CAAC,UAAf,wBACL,aAAK,SAAS,CAAC,SAAf,CAAyB,OAAO,CAAE,yBAAME,CAAAA,OAAO,CAAC,SAACiB,IAAD,QAAW,CAACA,IAAZ,EAAD,CAAb,EAAlC,wBACE,YAAK,SAAS,CAAC,gBAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,GAAG,CAAEhB,GAAxB,CAA6B,WAAW,CAAEN,KAAK,CAAGA,KAAK,CAACG,KAAD,CAAR,CAAkBJ,IAAjE,CAAuE,KAAK,CAAEqB,YAA9E,CAA4F,QAAQ,CAAE,kBAAAP,CAAC,CACvG,CACIL,QAAQ,CAACK,CAAC,CAACC,MAAF,CAASd,KAAV,CAAR,CACAC,SAAQ,CAAC,IAAD,CAAR,CACH,CAJD,CAIG,OAAO,CAAE,yBAAMI,CAAAA,OAAO,CAAC,SAACiB,IAAD,QAAU,CAACA,IAAX,EAAD,CAAb,EAJZ,EADJ,EADF,cAQE,YAAK,SAAS,iBAAWlB,IAAI,CAAG,MAAH,CAAY,IAA3B,CAAd,EARF,GADK,cAWL,aAAK,SAAS,mBAAaA,IAAI,CAAG,MAAH,CAAY,IAA7B,CAAd,WAEIY,MAAM,CAAClB,OAAD,CAAN,CAAgByB,GAAhB,CAAoB,SAACN,MAAD,qBAClB,YAAsB,SAAS,kBAAYjB,KAAK,GAAKiB,MAAV,CAAmB,UAAnB,CAAgC,IAA5C,CAA/B,CACA,OAAO,CAAE,kBAAM,CACXhB,SAAQ,CAACgB,MAAD,CAAR,CACAZ,OAAO,CAAC,KAAD,CAAP,CACAG,QAAQ,CAAC,EAAD,CAAR,CACH,CALD,uBAKG,KAAC,IAAD,EAAM,EAAE,CAAEZ,IAAV,CAAgB,EAAE,CAAC,kBAAnB,UAAuCqB,MAAM,CAACd,KAAD,CAA7C,EALH,EAAUc,MAAM,CAACf,EAAD,CAAhB,CADkB,EAApB,CAFJ,cAWE,eAAQ,KAAK,CAAC,EAAd,EAXF,GAXK,GAAP,CAyBD","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Dropdown({options, prop, value, onChange, id, label}) {\r\n    const [open, setOpen] = useState(false);\r\n    const ref = useRef(null)\r\n    const [query, setQuery] = useState('')\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', close);\r\n        return () => document.removeEventListener('click', close);\r\n    }, [])\r\n\r\n    function close(e) {\r\n        setOpen(e && e.target === ref.current)\r\n    }\r\n\r\n    function filter(options) {\r\n        return options.filter(\r\n            (option) => \r\n            option[label].toLowerCase().indexOf(query.toLowerCase()) > -1\r\n        )\r\n    }\r\n\r\n    function displayValue() {\r\n      if(query.length > 0) return query\r\n      if(value) return value[label]\r\n      return '';\r\n    }\r\n\r\n  return <div className=\"dropdown\">\r\n    <div className=\"control\" onClick={() => setOpen((prev ) => !prev)}>\r\n      <div className=\"selected-value\">\r\n          <input type=\"text\" ref={ref} placeholder={value ? value[label] : prop} value={displayValue} onChange={e => \r\n          {\r\n              setQuery(e.target.value)\r\n              onChange(null)\r\n          }} onClick={() => setOpen((prev) => !prev)}/>\r\n          </div>\r\n      <div className={`arrow ${open ? 'open' : null}`}></div>\r\n    </div>\r\n    <div className={`options ${open ? 'open' : null}`}>\r\n      {\r\n        filter(options).map((option) => (\r\n          <div key={option[id]} className={`option ${value === option ? 'selected' : null}`} \r\n          onClick={() => {\r\n              onChange(option)\r\n              setOpen(false)\r\n              setQuery('')\r\n          }}><Link as={Link} to=\"/pharmacy-search\">{option[label]}</Link></div>\r\n        ))\r\n      }\r\n      <option value=\"\"></option>\r\n    </div>\r\n  </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}